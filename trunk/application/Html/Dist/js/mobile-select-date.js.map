{"version":3,"sources":["mobile-select-date.js"],"names":["root","factory","define","amd","exports","module","MobileSelectDate","window","Zepto","jQuery","$","this","rnd","Math","random","toString","replace","id","scroller","data","index","value","oldvalue","oldtext","text","level","mtop","separator","prototype","init","settings","extend","now","Date","getTime","trigger","val","getFullYear","getMonth","slice","getDate","split","undefined","attr","concat","min","max","getData","bindEvent","json","s","l","obj","child","m","o","days","d","j","push","_this","click","e","buttons","position","width","className","animate","no","yes","confirm","t","c","submit","cancel","dispose","height","format","start","end","children","bind","changedTouches","originalEvent","pageY","diff","dl","target","parent","nodeName","top","parseInt","css","i","mod","mode","round","abs","get","html","hasClass","addClass","siblings","removeClass","f","item","childData","str","focus","length","pid","name","cls","len","newdom","nodeType","join","next","callback"],"mappings":"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","file":"mobile-select-date.js","sourcesContent":["/*\n * Created with Sublime Text 2.\n * license: http://www.lovewebgames.com/jsmodule/index.html\n * User: 田想兵\n * Date: 2015-04-16\n * Time: 14:11:27\n * Contact: 55342775@qq.com\n */\n;\n(function(root, factory) {\n\t//amd\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(['$'], factory);\n\t} else if (typeof exports === 'object') { //umd\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.MobileSelectDate = factory(window.Zepto || window.jQuery || $);\n\t}\n})(this, function($) {\n\tvar MobileSelectDate = function() {\n\t\tvar rnd = Math.random().toString().replace('.', '');\n\t\tthis.id = 'scroller_' + rnd;\n\t\tthis.scroller;\n\t\tthis.data;\n\t\tthis.index = 0;\n\t\tthis.value = [0, 0, 0];\n\t\tthis.oldvalue;\n\t\tthis.oldtext;\n\t\tthis.text = ['', '', ''];\n\t\tthis.level = 3;\n\t\tthis.mtop = 30;\n\t\tthis.separator = ' ';\n\t};\n\tMobileSelectDate.prototype = {\n\t\tinit: function(settings) {\n\t\t\tthis.settings = $.extend({}, settings);\n\t\t\tthis.separator = \"-\";\n\t\t\tvar now = new Date(new Date().getTime() + (1000 * 60 * 60 * 24));\n\t\t\tthis.settings.value = this.settings.value || $(this.settings.trigger).val() || now.getFullYear() + \"-\" + (\"0\" + (now.getMonth() + 1)).slice(-2) + '-' + (\"0\" + (now.getDate())).slice(-2);\n\t\t\tthis.settings.value = this.settings.value.replace(/-/g, ',');\n\t\t\tthis.settings.text = this.settings.value.split(',')\n\t\t\tthis.settings.default==undefined ? this.default=1:this.default = 0 ;//0为空,1时默认选中第一项\n\t\t\tthis.trigger = $(this.settings.trigger);\n\t\t\tthis.trigger.attr(\"readonly\", \"readonly\");\n\t\t\tthis.value = (this.settings.value && this.settings.value.split(\",\")) || [0, 0, 0];\n\t\t\tthis.text = this.settings.text || this.trigger.val().split(' ') || ['', '', ''];\n\t\t\tthis.oldvalue = this.value.concat([]);\n\t\t\t// this.clickBtn = $(this.settings.clickBtn);\n\t\t\tthis.oldtext = this.text.concat([]);\n\t\t\tthis.min = new Date(this.settings.min || \"1900-01-01\");\n\t\t\tthis.settings.max ? this.max = new Date(this.settings.max) : this.max = new Date();\n\t\t\tthis.getData();\n\t\t\tthis.bindEvent();\n\t\t},\n\t\t//覆盖数据方法\n\t\tgetData: function() {\n\t\t\tvar json = [];\n\t\t\tfor (var s = this.min.getFullYear(), l = this.max.getFullYear(); s <= l; s++) {\n\t\t\t\tvar obj = {};\n\t\t\t\tobj['id'] = obj['name'] = s;\n\t\t\t\tobj.child = [];\n\t\t\t\tfor (var m = 1; m <= 12; m++) {\n\t\t\t\t\tvar o = {};\n\t\t\t\t\to['id'] = o['name'] = (\"0\" + m).slice(-2);\n\t\t\t\t\to.child = [];\n\t\t\t\t\tvar days = new Date(s, m, 0).getDate();\n\t\t\t\t\tfor (var d = 1; d <= days; d++) {\n\t\t\t\t\t\tvar j = {};\n\t\t\t\t\t\tj['id'] = j['name'] = (\"0\" + d).slice(-2);\n\t\t\t\t\t\tif (!(m == this.max.getMonth() + 1 && s == this.max.getFullYear() && d > this.max.getDate())) {\n\t\t\t\t\t\t\to.child.push(j);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!(m > this.max.getMonth() + 1 && s == this.max.getFullYear())) {\n\t\t\t\t\t\tobj.child.push(o);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tjson.push(obj)\n\t\t\t}\n\t\t\tthis.data = json;\n\t\t},\n\t\tbindEvent: function() {\n\t\t\tvar _this = this;\n\t\t\tthis.trigger.click(function(e) {\n\t\t\t\tvar settings,buttons;\n\t\t\t\tif( _this.settings.position == \"bottom\"){\n\t\t\t\t\tsettings ={\n\t\t\t\t\t\tposition:\"bottom\",\n\t\t\t\t\t\twidth:\"100%\",\n\t\t\t\t\t\tclassName:\"ui-dialog-bottom\",\n\t\t\t\t\t\tanimate:false\n\t\t\t\t\t}\n\t\t\t\t\tvar buttons=[{\n\t\t\t\t\t\t\t'no': '取消'\n\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t'yes': '确定'\n\t\t\t\t\t\t}];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$.confirm('<div class=\"ui-scroller-mask\"><div id=\"' + _this.id + '\" class=\"ui-scroller\"><div></div><div ></div><div></div><p></p></div></div>', buttons, function(t, c) {\n\t\t\t\t\tif (t == \"yes\") {\n\t\t\t\t\t\t_this.submit()\n\t\t\t\t\t}\n\t\t\t\t\tif (t == 'no') {\n\t\t\t\t\t\t_this.cancel();\n\t\t\t\t\t}\n\t\t\t\t\tthis.dispose();\n\t\t\t\t}, $.extend({\n\t\t\t\t\twidth: 320,\n\t\t\t\t\theight: 215\n\t\t\t\t},settings));\n\t\t\t\t\n\t\t\t\t_this.scroller = $('#' + _this.id);\n\t\t\t\t_this.format();\n\t\t\t\tvar start = 0,\n\t\t\t\t\tend = 0\n\t\t\t\t_this.scroller.children().bind('touchstart', function(e) {\n\t\t\t\t\tstart = (e.changedTouches || e.originalEvent.changedTouches)[0].pageY;\n\t\t\t\t});\n\t\t\t\t_this.scroller.children().bind('touchmove', function(e) {\n\t\t\t\t\tend = (e.changedTouches || e.originalEvent.changedTouches)[0].pageY;\n\t\t\t\t\tvar diff = end - start;\n\t\t\t\t\tvar dl = $(e.target).parent();\n\t\t\t\t\tif (dl[0].nodeName != \"DL\") {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar top = parseInt(dl.css('top') || 0) + diff;\n\t\t\t\t\tdl.css('top', top);\n\t\t\t\t\tstart = end;\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\t_this.scroller.children().bind('touchend', function(e) {\n\t\t\t\t\tend = (e.changedTouches || e.originalEvent.changedTouches)[0].pageY;\n\t\t\t\t\tvar diff = end - start;\n\t\t\t\t\tvar dl = $(e.target).parent();\n\t\t\t\t\tif (dl[0].nodeName != \"DL\") {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar i = $(dl.parent()).index();\n\t\t\t\t\tvar top = parseInt(dl.css('top') || 0) + diff;\n\t\t\t\t\tif (top > _this.mtop) {\n\t\t\t\t\t\ttop = _this.mtop;\n\t\t\t\t\t}\n\t\t\t\t\tif (top < -$(dl).height() + 60) {\n\t\t\t\t\t\ttop = -$(dl).height() + 60;\n\t\t\t\t\t}\n\t\t\t\t\tvar mod = top / _this.mtop;\n\t\t\t\t\tvar mode = Math.round(mod);\n\t\t\t\t\tvar index = Math.abs(mode) + 1;\n\t\t\t\t\tif (mode == 1) {\n\t\t\t\t\t\tindex = 0;\n\t\t\t\t\t}\n\t\t\t\t\t_this.value[i] = $(dl.children().get(index)).attr('ref');\n\t\t\t\t\t_this.value[i] == 0 ? _this.text[i] = \"\" : _this.text[i] = $(dl.children().get(index)).html();\n\t\t\t\t\tfor (var j = _this.level - 1; j > i; j--) {\n\t\t\t\t\t\t_this.value[j] = 0;\n\t\t\t\t\t\t_this.text[j] = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tif (!$(dl.children().get(index)).hasClass('focus')) {\n\t\t\t\t\t\t_this.format();\n\t\t\t\t\t}\n\t\t\t\t\t$(dl.children().get(index)).addClass('focus').siblings().removeClass('focus');\n\t\t\t\t\tdl.css('top', mode * _this.mtop);\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t});\n\t\t},\n\t\tformat: function() {\n\t\t\tvar _this = this;\n\t\t\tvar child = _this.scroller.children();\n\t\t\tthis.f(this.data);\n\t\t},\n\t\tf: function(data) {\n\t\t\tvar _this = this;\n\t\t\tvar item = data;\n\t\t\tif (!item) {\n\t\t\t\titem = [];\n\t\t\t};\n\t\t\tvar str = '<dl><dd ref=\"0\">——</dd>';\n\t\t\tvar focus = 0,\n\t\t\t\tchildData, top = _this.mtop;\n\t\t\tif (_this.index !== 0 && _this.value[_this.index - 1] == \"0\" && this.default == 0) {\n\t\t\t\tstr = '<dl><dd ref=\"0\" class=\"focus\">——</dd>';\n\t\t\t\t_this.value[_this.index] = 0;\n\t\t\t\t_this.text[_this.index] = \"\";\n\t\t\t\tfocus = 0;\n\t\t\t} else {\n\t\t\t\tif (_this.value[_this.index] == \"0\") {\n\t\t\t\t\tstr = '<dl><dd ref=\"0\" class=\"focus\">——</dd>';\n\t\t\t\t\tfocus = 0;\n\t\t\t\t}\n\t\t\t\tif (item.length > 0 && this.default == 1) {\n\t\t\t\t\tstr = '<dl>';\n\t\t\t\t\tvar pid = item[0].pid || 0;\n\t\t\t\t\tvar id = item[0].id || 0;\n\t\t\t\t\tfocus = item[0].id;\n\t\t\t\t\tchildData = item[0].child;\n\t\t\t\t\tif(!_this.value[this.index ]){\n\t\t\t\t\t\t_this.value[this.index ] = id;\n\t\t\t\t\t\t_this.text[this.index] = item[0].name;\n\t\t\t\t\t}\n\t\t\t\t\tstr += '<dd pid=\"' + pid + '\" class=\"' + cls + '\" ref=\"' + id + '\">' + item[0].name + '</dd>';\n\t\t\t\t}\n\t\t\t\tfor (var j = _this.default, len = item.length; j < len; j++) {\n\t\t\t\t\tvar pid = item[j].pid || 0;\n\t\t\t\t\tvar id = item[j].id || 0;\n\t\t\t\t\tvar cls = '';\n\t\t\t\t\tif (_this.value[_this.index] == id) {\n\t\t\t\t\t\tcls = \"focus\";\n\t\t\t\t\t\tfocus = id;\n\t\t\t\t\t\tchildData = item[j].child;\n\t\t\t\t\t\ttop = _this.mtop * (-(j - _this.default));\n\t\t\t\t\t};\n\t\t\t\t\tstr += '<dd pid=\"' + pid + '\" class=\"' + cls + '\" ref=\"' + id + '\">' + item[j].name + '</dd>';\n\t\t\t\t}\n\t\t\t}\n\t\t\tstr += \"</dl>\";\n\t\t\tvar newdom = $(str);\n\t\t\tnewdom.css('top', top);\n\t\t\tvar child = _this.scroller.children();\n\t\t\t$(child[_this.index]).html(newdom);\n\t\t\t_this.index++;\n\t\t\tif (_this.index > _this.level - 1) {\n\t\t\t\t_this.index = 0;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_this.f(childData);\n\t\t},\n\t\tsubmit: function() {\n\t\t\tthis.oldvalue = this.value.concat([]);\n\t\t\tthis.oldtext = this.text.concat([]);\n\t\t\tif (this.trigger[0].nodeType == 1) {\n\t\t\t\t//input\n\t\t\t\tthis.trigger.text(this.text.join(this.separator));\n\t\t\t\tthis.trigger.attr('data-value', this.value.join(','));\n\t\t\t}\n\t\t\tthis.trigger.next(':hidden').val(this.value.join(','));\n\t\t\tthis.settings.callback && this.settings.callback(this.scroller);\n\t\t},\n\t\tcancel: function() {\n\t\t\tthis.value = this.oldvalue.concat([]);\n\t\t\tthis.text = this.oldtext.concat([]);\n\t\t}\n\t}\n\treturn MobileSelectDate;\n})"]}